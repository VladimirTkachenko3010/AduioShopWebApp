@model AudioShop.Data.Models.Product

@{
    ViewData["Title"] = ViewBag.Title;
}

<div class="row">
    <div class="col-lg-6">
        <h2>@Model.Name</h2>
        @if (Model.ImageUrls.Count > 0)
        {
            <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    @for (int i = 0; i < Model.ImageUrls.Count; i++)
                    {
                        var activeClass = i == 0 ? "active" : ""; 
                        <div class="carousel-item @activeClass">
                            <img src="@Url.Content(Model.ImageUrls[i].ImageUrls)" class="d-block w-100" alt="Slide @(i+1)">
                        </div>
                    }
                </div>
                @if (Model.ImageUrls.Count > 1) 
                {
                    <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                }
            </div>
        }
        else
        {
            <p>No images available for this product.</p>
        }
    </div>

    <div class="col-lg-6">
        <div>
            <p><strong>Категория:</strong> @Model.ProductType</p>
            <p><strong>Бренд:</strong> @Model.Brand</p>
            <p><strong>Описание:</strong> @Model.Description</p>
            <p><strong>Цена:</strong> @Model.Price</p>
            <p><strong>Избранный товар:</strong> @(Model.IsFavorite ? "Да" : "Нет")</p>
            <p><strong>Доступность:</strong> @(Model.IsAvailible ? "Есть в наличии" : "Нет в наличии ПОФИКСИТЬ ПРИ ДОБАВЛЕНИИ В КАРТ/ДБООБДЖЕКТС")</p>
            <p><a class="btn btn-warning" asp-controller="Cart" asp-action="AddToCart" asp-route-Id="@Model.Id">Добавить в корзину</a></p>
        </div>
    </div>
</div>
@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
}